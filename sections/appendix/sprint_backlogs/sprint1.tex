\section{Sprint 1}
\label{appendix:sprint1-backlog}

% HU05: Inicio de sesión
\begin{table}[H]
    \begin{center}
        \begin{tabularx}{\textwidth}{|l|X|l|}
            \hline
            \textbf{Identificador HU05} & 
            \textbf{Como usuario, quiero iniciar sesión con contraseña o clave, para evitar que otros accedan a mis archivos} &
            \textbf{Estimación: 5 PH}\\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \begin{minipage}{\textwidth}
                    \centering
                    \vspace{0.5em}
                    \begin{tabular}{|l|p{8cm}|r|}
                        \hline
                        \textbf{Identificador} & \textbf{Título de la tarea de desarrollo} & \makecell{\textbf{Estimación}\\\textbf{(h)}} \\
                        \hline
                        Tarea 5-1U & Implementar endpoint para iniciar sesión & 2 \\
                        \hline
                        Tarea 5-2U & Validar credenciales de usuario contra la base de datos & 1.5 \\
                        \hline
                        Tarea 5-3U & Generar y devolver token JWT al usuario autenticado & 1.5 \\
                        \hline
                        Tarea 5-4U & Gestionar errores de autenticación (usuario no existe, contraseña incorrecta) & 1.5 \\
                        \hline
                        Tarea 5-5U & Documentar el endpoint de inicio de sesión en OpenAPI & 0.5 \\
                        \hline
                    \end{tabular}
                    \vspace{0.5em}
                \end{minipage}
            } \\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Pruebas de aceptación:}
                    \begin{itemize}
                        \item El usuario puede iniciar sesión con su contraseña.
                        \item Cuando el usuario inicia sesión, se le devuelve un token JWT.
                        \item Si el usuario no existe, se devuelve un mensaje de error.
                        \item Si la contraseña o clave son incorrectas, se devuelve un mensaje de error.
                        \item El endpoint está documentado en OpenAPI.
                    \end{itemize}
            }\\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Observaciones:}
                \begin{itemize}
                    \item El endpoint debe ser seguro (usar HTTPS).
                    \item El token JWT debe tener expiración configurable.
                \end{itemize}
            }\\
            \hline
        \end{tabularx}
    \end{center}
\end{table}

% HU06: Cerrar sesión
\begin{table}[H]
    \begin{center}
        \begin{tabularx}{\textwidth}{|l|X|l|}
            \hline
            \textbf{Identificador HU06} & 
            \textbf{Como usuario, quiero poder cerrar sesión en un dispositivo, para proteger mis datos si pierdo el móvil} &
            \textbf{Estimación: 2 PH}\\
            \hline
            \multicolumn{3}{|c|}{
                \begin{minipage}{\linewidth}
                    \centering
                    \vspace{0.5em}
                    \begin{tabular}{|l|p{8cm}|r|}
                        \hline
                        \textbf{Identificador} & \textbf{Título de la tarea de desarrollo} & \makecell{\textbf{Estimación}\\\textbf{(h)}} \\
                        \hline
                        Tarea 6-1 & Implementar endpoint para cerrar sesión (invalidar token JWT) & 1 \\
                        \hline
                        Tarea 6-2 & Gestionar lista negra de tokens JWT (opcional) & 1 \\
                        \hline
                    \end{tabular}
                    \vspace{0.5em}
                \end{minipage}
            } \\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Pruebas de aceptación:}
                    \begin{itemize}
                        \item El usuario puede cerrar sesión y su token queda invalidado.
                        \item Tras cerrar sesión, el token no permite acceder a endpoints protegidos.
                    \end{itemize}
            }\\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Observaciones:}
                \begin{itemize}
                    \item Si no se implementa lista negra, el token expira por tiempo.
                \end{itemize}
            }\\
            \hline
        \end{tabularx}
    \end{center}
\end{table}

% HU13: Crear cuentas
\begin{table}[H]
    \begin{center}
        \begin{tabularx}{\textwidth}{|l|X|l|}
            \hline
            \textbf{Identificador HU13} & 
            \textbf{Como administrador, quiero crear cuentas de usuario con permisos, para que varias personas puedan usar el servidor} &
            \textbf{Estimación: 8 PH}\\
            \hline
            \multicolumn{3}{|c|}{
                \begin{minipage}{\linewidth}
                    \centering
                    \vspace{0.5em}
                    \begin{tabular}{|l|p{8cm}|r|}
                        \hline
                        \textbf{Identificador} & \textbf{Título de la tarea de desarrollo} & \makecell{\textbf{Estimación}\\\textbf{(h)}} \\
                        \hline
                        Tarea 13-1 & Implementar endpoint para crear cuentas de usuario & 2 \\
                        \hline
                        Tarea 13-2 & Validar permisos de administrador para crear cuentas & 1.5 \\
                        \hline
                        Tarea 13-3 & Añadir roles/permisos a los usuarios & 1.5 \\
                        \hline
                        Tarea 13-4 & Gestionar almacenamiento seguro de contraseñas (hash) & 1.5 \\
                        \hline
                        Tarea 13-5 & Documentar el endpoint de creación de cuentas en OpenAPI & 0.5 \\
                        \hline
                        Tarea 13-6 & Pruebas unitarias de creación de usuario & 1 \\
                        \hline
                    \end{tabular}
                    \vspace{0.5em}
                \end{minipage}
            } \\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Pruebas de aceptación:}
                    \begin{itemize}
                        \item Solo el administrador puede crear cuentas.
                        \item El usuario creado puede iniciar sesión.
                        \item Los roles/permisos se asignan correctamente.
                        \item El endpoint está documentado en OpenAPI.
                    \end{itemize}
            }\\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Observaciones:}
                \begin{itemize}
                    \item Usar hash seguro para contraseñas (ej: Argon2).
                \end{itemize}
            }\\
            \hline
        \end{tabularx}
    \end{center}
\end{table}

% HT03: API REST en Rust
\begin{table}[H]
    \begin{center}
        \begin{tabularx}{\textwidth}{|l|X|l|}
            \hline
            \textbf{Identificador HT03} & 
            \textbf{Desarrollar API RESTful usando Rust y Axum} &
            \textbf{Estimación: 13 PH}\\
            \hline
            \multicolumn{3}{|c|}{
                \begin{minipage}{\linewidth}
                    \centering
                    \vspace{0.5em}
                    \begin{tabular}{|l|p{8cm}|r|}
                        \hline
                        \textbf{Identificador} & \textbf{Título de la tarea de desarrollo} & \makecell{\textbf{Estimación}\\\textbf{(h)}} \\
                        \hline
                        Tarea 3-1 & Crear estructura base del proyecto en Rust & 2 \\
                        \hline
                        Tarea 3-2 & Configurar Axum y dependencias principales & 2 \\
                        \hline
                        Tarea 3-3 & Definir rutas y controladores básicos & 2 \\
                        \hline
                        Tarea 3-4 & Implementar manejo de errores global & 2 \\
                        \hline
                        Tarea 3-5 & Añadir middlewares (logging, CORS, etc.) & 1.5 \\
                        \hline
                        Tarea 3-6 & Configurar variables de entorno y settings & 1.5 \\
                        \hline
                        Tarea 3-7 & Documentar endpoints iniciales & 1 \\
                        \hline
                        Tarea 3-8 & Pruebas de integración básicas & 1 \\
                        \hline
                    \end{tabular}
                    \vspace{0.5em}
                \end{minipage}
            } \\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Pruebas de aceptación:}
                    \begin{itemize}
                        \item El servidor arranca y responde a peticiones básicas.
                        \item Los endpoints definidos funcionan correctamente.
                        \item El manejo de errores es consistente.
                    \end{itemize}
            }\\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Observaciones:}
                \begin{itemize}
                    \item Seguir estructura modular y buenas prácticas de Rust.
                \end{itemize}
            }\\
            \hline
        \end{tabularx}
    \end{center}
\end{table}

% HT05: Autenticación JWT
\begin{table}[H]
    \begin{center}
        \begin{tabularx}{\textwidth}{|l|X|l|}
            \hline
            \textbf{Identificador HT05} & 
            \textbf{Implementar autenticación con JSON Web Tokens} &
            \textbf{Estimación: 5 PH}\\
            \hline
            \multicolumn{3}{|c|}{
                \begin{minipage}{\linewidth}
                    \centering
                    \vspace{0.5em}
                    \begin{tabular}{|l|p{8cm}|r|}
                        \hline
                        \textbf{Identificador} & \textbf{Título de la tarea de desarrollo} & \makecell{\textbf{Estimación}\\\textbf{(h)}} \\
                        \hline
                        Tarea 5-1T & Añadir librería de JWT y configuración & 1.5 \\
                        \hline
                        Tarea 5-2T & Implementar generación y validación de tokens & 1.5 \\
                        \hline
                        Tarea 5-3T & Proteger endpoints con autenticación JWT & 1 \\
                        \hline
                        Tarea 5-4T & Pruebas unitarias de autenticación & 1 \\
                        \hline
                    \end{tabular}
                    \vspace{0.5em}
                \end{minipage}
            } \\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Pruebas de aceptación:}
                    \begin{itemize}
                        \item Solo usuarios autenticados pueden acceder a endpoints protegidos.
                        \item Los tokens inválidos o expirados son rechazados.
                    \end{itemize}
            }\\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Observaciones:}
                \begin{itemize}
                    \item Usar claves seguras y expiración adecuada.
                \end{itemize}
            }\\
            \hline
        \end{tabularx}
    \end{center}
\end{table}

% HT08: Base de datos
\begin{table}[H]
    \begin{center}
        \begin{tabularx}{\textwidth}{|l|X|l|}
            \hline
            \textbf{Identificador HT08} & 
            \textbf{Implementar SQLite o PostgreSQL para usuarios y archivos} &
            \textbf{Estimación: 8 PH}\\
            \hline
            \multicolumn{3}{|c|}{
                \begin{minipage}{\linewidth}
                    \centering
                    \vspace{0.5em}
                    \begin{tabular}{|l|p{8cm}|r|}
                        \hline
                        \textbf{Identificador} & \textbf{Título de la tarea de desarrollo} & \makecell{\textbf{Estimación}\\\textbf{(h)}} \\
                        \hline
                        Tarea 8-1 & Definir modelo de datos para usuarios y archivos & 2 \\
                        \hline
                        Tarea 8-2 & Crear migraciones iniciales de la base de datos & 1.5 \\
                        \hline
                        Tarea 8-3 & Implementar acceso a base de datos en Rust & 2 \\
                        \hline
                        Tarea 8-4 & Pruebas de persistencia y consultas básicas & 1.5 \\
                        \hline
                    \end{tabular}
                    \vspace{0.5em}
                \end{minipage}
            } \\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Pruebas de aceptación:}
                    \begin{itemize}
                        \item Se pueden crear, consultar y modificar usuarios y archivos.
                        \item Las migraciones funcionan correctamente.
                    \end{itemize}
            }\\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Observaciones:}
                \begin{itemize}
                    \item Usar ORM recomendado para Rust (ej: sqlx, diesel).
                \end{itemize}
            }\\
            \hline
        \end{tabularx}
    \end{center}
\end{table}

% HT18.1: Binario
\begin{table}[H]
    \begin{center}
        \begin{tabularx}{\textwidth}{|l|X|l|}
            \hline
            \textbf{Identificador HT18.1} & 
            \textbf{Empaquetar la aplicación como un solo binario} &
            \textbf{Estimación: 2 PH}\\
            \hline
            \multicolumn{3}{|c|}{
                \begin{minipage}{\linewidth}
                    \centering
                    \vspace{0.5em}
                    \begin{tabular}{|l|p{8cm}|r|}
                        \hline
                        \textbf{Identificador} & \textbf{Título de la tarea de desarrollo} & \makecell{\textbf{Estimación}\\\textbf{(h)}} \\
                        \hline
                        Tarea 18.1-1 & Configurar build para generar binario único & 1.5 \\
                        \hline
                        Tarea 18.1-2 & Verificar funcionamiento del binario en distintos entornos & 0.5 \\
                        \hline
                    \end{tabular}
                    \vspace{0.5em}
                \end{minipage}
            } \\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Pruebas de aceptación:}
                    \begin{itemize}
                        \item El binario se genera correctamente y es ejecutable.
                        \item El binario funciona en los sistemas operativos objetivo.
                    \end{itemize}
            }\\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Observaciones:}
                \begin{itemize}
                    \item Documentar el proceso de build en el README.
                \end{itemize}
            }\\
            \hline
        \end{tabularx}
    \end{center}
\end{table}

% HT19: Dockerización
\begin{table}[H]
    \begin{center}
        \begin{tabularx}{\textwidth}{|l|X|l|}
            \hline
            \textbf{Identificador HT19} & 
            \textbf{Crear imagen Docker del servidor} &
            \textbf{Estimación: 3 PH}\\
            \hline
            \multicolumn{3}{|c|}{
                \begin{minipage}{\linewidth}
                    \centering
                    \vspace{0.5em}
                    \begin{tabular}{|l|p{8cm}|r|}
                        \hline
                        \textbf{Identificador} & \textbf{Título de la tarea de desarrollo} & \makecell{\textbf{Estimación}\\\textbf{(h)}} \\
                        \hline
                        Tarea 19-1 & Crear Dockerfile para el servidor & 1.5 \\
                        \hline
                        Tarea 19-2 & Configurar variables de entorno y volúmenes & 1 \\
                        \hline
                        Tarea 19-3 & Probar despliegue local y documentar uso & 0.5 \\
                        \hline
                    \end{tabular}
                    \vspace{0.5em}
                \end{minipage}
            } \\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Pruebas de aceptación:}
                    \begin{itemize}
                        \item El servidor se ejecuta correctamente en un contenedor Docker.
                        \item Se pueden configurar variables y volúmenes.
                    \end{itemize}
            }\\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Observaciones:}
                \begin{itemize}
                    \item Seguir buenas prácticas de Docker (multi-stage build si es posible).
                \end{itemize}
            }\\
            \hline
        \end{tabularx}
    \end{center}
\end{table}

% HT20.1: Documentación del proyecto en GitHub
\begin{table}[H]
    \begin{center}
        \begin{tabularx}{\textwidth}{|l|X|l|}
            \hline
            \textbf{Identificador HT20.1} & 
            \textbf{Documentar la instalación y uso del proyecto en el repositorio de Github} &
            \textbf{Estimación: 5 PH}\\
            \hline
            \multicolumn{3}{|c|}{
                \begin{minipage}{\linewidth}
                    \centering
                    \vspace{0.5em}
                    \begin{tabular}{|l|p{8cm}|r|}
                        \hline
                        \textbf{Identificador} & \textbf{Título de la tarea de desarrollo} & \makecell{\textbf{Estimación}\\\textbf{(h)}} \\
                        \hline
                        Tarea 20.1-1 & Redactar README con instrucciones de instalación & 1 \\
                        \hline
                        Tarea 20.1-2 & Documentar configuración y variables de entorno & 1 \\
                        \hline
                        Tarea 20.1-3 & Añadir ejemplos de uso y comandos básicos & 1 \\
                        \hline
                        Tarea 20.1-4 & Revisar y mejorar formato y claridad & 1 \\
                        \hline
                    \end{tabular}
                    \vspace{0.5em}
                \end{minipage}
            } \\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Pruebas de aceptación:}
                    \begin{itemize}
                        \item El README permite instalar y ejecutar el proyecto desde cero.
                        \item Toda la configuración necesaria está documentada.
                    \end{itemize}
            }\\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Observaciones:}
                \begin{itemize}
                    \item Usar ejemplos claros y comandos reproducibles.
                \end{itemize}
            }\\
            \hline
        \end{tabularx}
    \end{center}
\end{table}

% HT20.2: Documentación de la API REST con OpenAPI
\begin{table}[H]
    \begin{center}
        \begin{tabularx}{\textwidth}{|l|X|l|}
            \hline
            \textbf{Identificador HT20.2} & 
            \textbf{Documentar mediante la generación de una página web todos los endpoints de la API REST} &
            \textbf{Estimación: 5 PH}\\
            \hline
            \multicolumn{3}{|c|}{
                \begin{minipage}{\linewidth}
                    \centering
                    \vspace{0.5em}
                    \begin{tabular}{|l|p{8cm}|r|}
                        \hline
                        \textbf{Identificador} & \textbf{Título de la tarea de desarrollo} & \makecell{\textbf{Estimación}\\\textbf{(h)}} \\
                        \hline
                        Tarea 20.2-1 & Generar especificación OpenAPI de la API REST & 1.5 \\
                        \hline
                        Tarea 20.2-2 & Añadir descripciones y ejemplos a los endpoints & 1.5 \\
                        \hline
                        Tarea 20.2-3 & Publicar documentación como página web (Swagger UI u OpenAPI UI) & 1 \\
                        \hline
                        Tarea 20.2-4 & Revisar y mantener la documentación actualizada & 1 \\
                        \hline
                    \end{tabular}
                    \vspace{0.5em}
                \end{minipage}
            } \\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Pruebas de aceptación:}
                    \begin{itemize}
                        \item Todos los endpoints están documentados y accesibles vía web.
                        \item La documentación incluye ejemplos de peticiones y respuestas, tanto respuestas exitosas como errores.
                        \item La documentación se actualiza automáticamente al cambiar el código.
                    \end{itemize}
            }\\
            \hline
            \multicolumn{3}{|p{\textwidth}|}{
                \textbf{Observaciones:}
                \begin{itemize}
                    \item Usar herramientas automáticas para mantener la documentación sincronizada.
                \end{itemize}
            }\\
            \hline
        \end{tabularx}
    \end{center}
\end{table}

